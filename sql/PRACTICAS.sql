CREATE DATABASE NEGOCIO;

USE NEGOCIO;

CREATE TABLE PRODUCTO (
ID_PRO int,
NOMBRE_P varchar(20),
PRECIO float,
CATEGORIA varchar(20),
CANTIDAD int,
ID_PROV INT);


DROP TABLE PRODUCTO;

ALTER TABLE PRODUCTO
ADD PRIMARY KEY (ID_PRO);

ALTER TABLE PRODUCTO
add PROVEEDOR VARCHAR(30);

INSERT INTO PRODUCTO( ID_PRO, NOMBRE_P, PRECIO, CATEGORIA, CANTIDAD, ID_PROV) VALUES 
(1, 'Celular', 2550.00, 'Electronica', 2, 1),
(2,  'Computadora', 15499.00,'Electronica', 2, 2),
(3,  'Refrigerador', 22999.00, 'LINEA BLANCA', 3, 3),
(4,  'Jeans', 800, 'ROPA', 5, 4),
(5,  'Vestido', 350.00, 'ROPA', 1, 5);


CREATE TABLE CLIENTE (
ID_C int,
NOMBRE_C VARCHAR(30),
TEL VARCHAR(10),
CORREO VARCHAR(30),
DIRECCION VARCHAR(50)
);

ALTER TABLE CLIENTE
ADD PRIMARY KEY (ID_C);
INSERT INTO CLIENTE( ID_C, NOMBRE_C, TEL, CORREO, DIRECCION) VALUES 
(1, 'Pilar', '4881079315', 'pilar1@gmail.com', 'Olivos 107 col. Olivar'),
(2, 'Javier', '8324869657', 'javis@gmail.com', 'Ceibas 416 col. Olivar'),
(3, 'Maria', '4881056373', 'ma1@gmail.com', 'Olivos 106 col. Olivar'),
(4, 'Samuel', '4883468257', 'sam1@gmail.com', 'Benito Juarez 1234 Centro'),
(5, 'Alisson', '4851234754', 'aliss1@gmail.com', 'Tamaulipas 108 col. Republica');


CREATE TABLE PROVEEDOR (
ID_PROV int,
EMPRESA VARCHAR(30),
NOMBRE_PRO VARCHAR(30),
TEL VARCHAR(10),
CORREO VARCHAR(30),
DIRECCION VARCHAR(50)
);

DROP TABLE PROVEEDOR;

ALTER TABLE PROVEEDOR
ADD PRIMARY KEY (ID_PROV);

ALTER TABLE PRODUCTO
ADD CONSTRAINT fk_ID_PROV
FOREIGN KEY (ID_PROV)
REFERENCES PROVEEDOR(ID_PROV);


INSERT INTO PROVEEDOR( ID_PROV, EMPRESA, NOMBRE_PRO, TEL, CORREO, DIRECCION) VALUES 
(1, 'SAMSUNG', ' Vicente','4888845656', 'samsung@gmail.com', 'Hidalgo 549'),
(2, 'HUAWEI', 'Petunia','4888816142', 'huawei@gmail.com', 'Sonora 238'),
(3, 'LG', 'Margarita', '4888834815', 'lg@gmail.com', 'Cipres 572'),
(4, 'LEVIS', 'Alejandro', '4885725762', 'levis@gmail.com', 'Benito Juarez 12'),
(5, 'BABY COLOR', 'Aliam', '4888882387', 'babyc@gmail.com', 'Toluca 465');



CREATE TABLE EMPLEADO(
ID_E INT, 
NOMBRE_E VARCHAR(30),
SUELDO FLOAT,
PUESTO varchar(30),
EDAD INT
);

ALTER TABLE EMPLEADO
ADD PRIMARY KEY (ID_E);

select * from empleado;
INSERT INTO EMPLEADO( ID_E, NOMBRE_E, SUELDO, PUESTO, EDAD) VALUES 
(1, 'Omar', 10000, 'Jefe', 27),
(2, 'Juan', 1600, 'Contador', 27),
(3, 'Jose', 1750, 'Gerrente', 30),
(4, 'Guadalupe', 1450, 'Cajera', 18),
(5, 'Ailyn', 1500, 'Cajera', 20);

CREATE TABLE VENTA(
ID_V int,
ID_E INT,
ID_C INT,
ID_PRO INT,
FECHA date
);

INSERT INTO VENTA(ID_V, ID_E, ID_C, ID_PRO, FECHA) VALUES 
(1, 1, 1, 1, '2023-12-08'),
(2, 2, 2, 2, '2023-12-08'),
(3, 3, 3, 3, '2023-12-08'),
(4, 4, 4, 4, '2023-12-08'),
(5, 5, 5, 5, '2023-12-08');

INSERT INTO VENTA VALUES (7, 3,5, 4, '2024-02-08');

SELECT *FROM VENTA V
JOIN PRODUCTO P 
	ON P.ID_PRO = V.ID_PRO

DROP TABLE VENTA;

ALTER TABLE VENTA
ADD PRIMARY KEY (ID_V);

ALTER TABLE VENTA
ADD CONSTRAINT fk_id_e
FOREIGN KEY (ID_E)
REFERENCES EMPLEADO(ID_E);

ALTER TABLE VENTA
ADD CONSTRAINT fk_id_c
FOREIGN KEY (ID_C)
REFERENCES CLIENTE(ID_C);


ALTER TABLE VENTA
ADD CONSTRAINT fk_id_
FOREIGN KEY (ID_PRO)
REFERENCES PRODUCTO(ID_PRO);


SELECT * FROM VENTA;

